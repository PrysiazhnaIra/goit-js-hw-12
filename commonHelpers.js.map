{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport async function searchImage(query) {\n    const BASE_URL = 'https://pixabay.com/api/';\n\n    const params = new URLSearchParams({\n        key: '44028683-118753c7a8296875ea6775d6e',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n        per_page: '15',\n    });\n\n    const url = `${BASE_URL}?${params}`;\n\n    return await axios.get(url);\n}","function imageTemplate(image){\n    return `\n    <div class=\"gallery_block\">\n    <a href=\"${image.largeImageURL}\">\n    <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"picture\"></a>\n    <ul class=\"property_list\">\n    <li class=\"property_elem\">Likes <span class=\"span_property\">${image.likes}</span></li>\n    <li class=\"property_elem\">Views <span class=\"span_property\">${image.views}</span></li>\n    <li class=\"property_elem\">Comments <span class=\"span_property\">${image.comments}</span></li>\n    <li class=\"property_elem\">Downloads <span class=\"span_property\">${image.downloads}</span></li>\n    </ul>\n    </div>`;\n    \n}\n\nexport function imagesTemplate(arr) {\n    return arr.map(imageTemplate).join('');\n}","import {searchImage} from './js/pixabay-api.js';\nimport {imagesTemplate} from './js/render-function.js';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nvar lightbox = new SimpleLightbox('.gallery_block a', {captionsData: \"alt\", captionDelay: 250});\n\nconst myForm = document.querySelector(\".form\");\nconst imagesList = document.querySelector('.images_container');\n\nconst spinner = document.querySelector(\".loader\");\n\nmyForm.addEventListener(\"submit\", async (event) => {\n    event.preventDefault();\n\n    imagesList.innerHTML = \"\";\n    const query = event.target.elements.query.value.trim();\n\n    if(!query) {\n        iziToast.warning({\n            title: 'Warning',\n            message: 'You should input something',\n            position: 'topCenter',\n        });\n\n    } else {\n        spinner.hidden = false;\n\n        try {\n            let data = await searchImage(query);\n            if(data.data.hits.length != 0) {\n                const markup = imagesTemplate(data.data.hits);\n                imagesList.innerHTML = markup;\n                \n                lightbox.refresh();\n\n            } else {\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topCenter',\n                });\n            }\n        } catch(error) {\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Failed to fetch data. Please try again later!',\n                    position: 'topCenter',\n                });\n        } finally {\n                spinner.hidden = true;\n        }\n    }    \n});\n\n\n\n\n\n\n"],"names":["searchImage","query","BASE_URL","params","url","axios","imageTemplate","image","imagesTemplate","arr","lightbox","SimpleLightbox","myForm","imagesList","spinner","event","iziToast","data","markup"],"mappings":"+vBAEO,eAAeA,EAAYC,EAAO,CACrC,MAAMC,EAAW,2BAEXC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,IAClB,CAAK,EAEKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAME,EAAM,IAAID,CAAG,CAC9B,CCjBA,SAASE,EAAcC,EAAM,CACzB,MAAO;AAAA;AAAA,eAEIA,EAAM,aAAa;AAAA,gBAClBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,kEAEYA,EAAM,KAAK;AAAA,kEACXA,EAAM,KAAK;AAAA,qEACRA,EAAM,QAAQ;AAAA,sEACbA,EAAM,SAAS;AAAA;AAAA,WAIrF,CAEO,SAASC,EAAeC,EAAK,CAChC,OAAOA,EAAI,IAAIH,CAAa,EAAE,KAAK,EAAE,CACzC,CCRA,IAAII,EAAW,IAAIC,EAAe,mBAAoB,CAAC,aAAc,MAAO,aAAc,GAAG,CAAC,EAE9F,MAAMC,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAa,SAAS,cAAc,mBAAmB,EAEvDC,EAAU,SAAS,cAAc,SAAS,EAEhDF,EAAO,iBAAiB,SAAU,MAAOG,GAAU,CAC/CA,EAAM,eAAc,EAEpBF,EAAW,UAAY,GACvB,MAAMZ,EAAQc,EAAM,OAAO,SAAS,MAAM,MAAM,OAEhD,GAAG,CAACd,EACAe,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,6BACT,SAAU,WACtB,CAAS,MAEE,CACHF,EAAQ,OAAS,GAEjB,GAAI,CACA,IAAIG,EAAO,MAAMjB,EAAYC,CAAK,EAClC,GAAGgB,EAAK,KAAK,KAAK,QAAU,EAAG,CAC3B,MAAMC,EAASV,EAAeS,EAAK,KAAK,IAAI,EAC5CJ,EAAW,UAAYK,EAEvBR,EAAS,QAAO,CAEhC,MACgBM,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,WAC9B,CAAiB,CAER,MAAc,CACPA,EAAS,MAAM,CACX,MAAO,QACP,QAAS,gDACT,SAAU,WAC9B,CAAiB,CACjB,QAAkB,CACFF,EAAQ,OAAS,EACxB,CACJ,CACL,CAAC"}